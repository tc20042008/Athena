[
  "__builtin_let__",
  [
    [
      "abstract_drr",
      [
        "import",
        {
          "str": "abstract_drr"
        }
      ]
    ],
    [
      "topo_drr_pass",
      [
        "import",
        {
          "str": "topo_drr_pass"
        }
      ]
    ],
    [
      "op_convertion_drr_pass",
      [
        "import",
        {
          "str": "op_convertion_drr_pass"
        }
      ]
    ],
    [
      "trivial_reduce_tpl",
      [
        "import",
        {
          "str": "trivial_reduce_tpl"
        }
      ]
    ],
    [
      "___0",
      [
        "__builtin_getattr__",
        "abstract_drr",
        {
          "str": "DrrPass"
        }
      ]
    ],
    [
      "___1",
      [
        "__builtin_list__",
        "___0"
      ]
    ],
    [
      "source_pattern",
      [
        "__builtin_identity__",
        [
          "lambda",
          [
            "self",
            "o",
            "t"
          ],
          [
            "__builtin_let__",
            [
              [
                "___2",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "ap_trivial_fusion_op"
                  }
                ]
              ],
              [
                "___3",
                [
                  "___2"
                ]
              ],
              [
                "___4",
                [
                  "__builtin_setattr__",
                  "o",
                  {
                    "str": "trivial_op"
                  }
                ]
              ],
              [
                "___5",
                [
                  "___4",
                  {
                    "str": "trivial_op"
                  },
                  "___3"
                ]
              ],
              [
                "___6",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "trivial_op"
                  }
                ]
              ],
              [
                "___7",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "input0"
                  }
                ]
              ],
              [
                "___8",
                [
                  "__builtin_list__",
                  "___7"
                ]
              ],
              [
                "___9",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "output0"
                  }
                ]
              ],
              [
                "___10",
                [
                  "__builtin_list__",
                  "___9"
                ]
              ],
              [
                "___11",
                [
                  "___6",
                  "___8",
                  "___10"
                ]
              ],
              [
                "___12",
                [
                  "__builtin_identity__",
                  "___11"
                ]
              ],
              [
                "___13",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "ap_native_op"
                  }
                ]
              ],
              [
                "___14",
                [
                  "___13",
                  {
                    "str": "pd_op.full_int_array"
                  }
                ]
              ],
              [
                "___15",
                [
                  "__builtin_setattr__",
                  "o",
                  {
                    "str": "full_int_array"
                  }
                ]
              ],
              [
                "___16",
                [
                  "___15",
                  {
                    "str": "full_int_array"
                  },
                  "___14"
                ]
              ],
              [
                "___17",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "full_int_array"
                  }
                ]
              ],
              [
                "___18",
                [
                  "__builtin_list__"
                ]
              ],
              [
                "___19",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "axis"
                  }
                ]
              ],
              [
                "___20",
                [
                  "__builtin_list__",
                  "___19"
                ]
              ],
              [
                "___21",
                [
                  "___17",
                  "___18",
                  "___20"
                ]
              ],
              [
                "___22",
                [
                  "__builtin_identity__",
                  "___21"
                ]
              ],
              [
                "___23",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "ap_native_op"
                  }
                ]
              ],
              [
                "___24",
                [
                  "___23",
                  {
                    "str": "pd_op.sum"
                  }
                ]
              ],
              [
                "___25",
                [
                  "__builtin_setattr__",
                  "o",
                  {
                    "str": "reduce_op"
                  }
                ]
              ],
              [
                "___26",
                [
                  "___25",
                  {
                    "str": "reduce_op"
                  },
                  "___24"
                ]
              ],
              [
                "___27",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "reduce_op"
                  }
                ]
              ],
              [
                "___28",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "output0"
                  }
                ]
              ],
              [
                "___29",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "axis"
                  }
                ]
              ],
              [
                "___30",
                [
                  "__builtin_list__",
                  "___28",
                  "___29"
                ]
              ],
              [
                "___31",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "output1"
                  }
                ]
              ],
              [
                "___32",
                [
                  "__builtin_list__",
                  "___31"
                ]
              ],
              [
                "___33",
                [
                  "___27",
                  "___30",
                  "___32"
                ]
              ],
              [
                "___34",
                [
                  "__builtin_identity__",
                  "___33"
                ]
              ]
            ],
            [
              "__builtin_identity__",
              null
            ]
          ]
        ]
      ]
    ],
    [
      "___35",
      [
        "__builtin_getattr__",
        "source_pattern",
        {
          "str": "__function__"
        }
      ]
    ],
    [
      "___36",
      [
        "__builtin_list__",
        {
          "str": "source_pattern"
        },
        "___35"
      ]
    ],
    [
      "get_constraint_func",
      [
        "__builtin_identity__",
        [
          "lambda",
          [
            "self"
          ],
          [
            "__builtin_let__",
            [
              [
                "___37",
                [
                  "__builtin_getattr__",
                  "Constraint",
                  {
                    "str": "__function__"
                  }
                ]
              ],
              [
                "___38",
                [
                  "__builtin_return__",
                  "___37"
                ]
              ]
            ],
            [
              "__builtin_identity__",
              null
            ]
          ]
        ]
      ]
    ],
    [
      "___39",
      [
        "__builtin_getattr__",
        "get_constraint_func",
        {
          "str": "__function__"
        }
      ]
    ],
    [
      "___40",
      [
        "__builtin_list__",
        {
          "str": "get_constraint_func"
        },
        "___39"
      ]
    ],
    [
      "result_pattern",
      [
        "__builtin_identity__",
        [
          "lambda",
          [
            "self",
            "o",
            "t"
          ],
          [
            "__builtin_let__",
            [
              [
                "___41",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "ap_pattern_fusion_op"
                  }
                ]
              ],
              [
                "___42",
                [
                  "__builtin_getattr__",
                  "CodeGen",
                  {
                    "str": "__function__"
                  }
                ]
              ],
              [
                "___43",
                [
                  "___41",
                  "___42"
                ]
              ],
              [
                "___44",
                [
                  "__builtin_setattr__",
                  "o",
                  {
                    "str": "fustion_op"
                  }
                ]
              ],
              [
                "___45",
                [
                  "___44",
                  {
                    "str": "fustion_op"
                  },
                  "___43"
                ]
              ],
              [
                "___46",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "fustion_op"
                  }
                ]
              ],
              [
                "___47",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "input0"
                  }
                ]
              ],
              [
                "___48",
                [
                  "__builtin_list__",
                  "___47"
                ]
              ],
              [
                "___49",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "output1"
                  }
                ]
              ],
              [
                "___50",
                [
                  "__builtin_list__",
                  "___49"
                ]
              ],
              [
                "___51",
                [
                  "___46",
                  "___48",
                  "___50"
                ]
              ],
              [
                "___52",
                [
                  "__builtin_identity__",
                  "___51"
                ]
              ]
            ],
            [
              "__builtin_identity__",
              null
            ]
          ]
        ]
      ]
    ],
    [
      "___53",
      [
        "__builtin_getattr__",
        "result_pattern",
        {
          "str": "__function__"
        }
      ]
    ],
    [
      "___54",
      [
        "__builtin_list__",
        {
          "str": "result_pattern"
        },
        "___53"
      ]
    ],
    [
      "___55",
      [
        "__builtin_list__"
      ]
    ],
    [
      "___56",
      [
        "__builtin_list__",
        "___36",
        "___40",
        "___54"
      ]
    ],
    [
      "___57",
      [
        "__builtin_PackedArgs__",
        "___55",
        "___56"
      ]
    ],
    [
      "___58",
      [
        "BuiltinSerializableAttrMap",
        "___57"
      ]
    ],
    [
      "___59",
      [
        "type",
        {
          "str": "TrivialFusionDemo"
        },
        "___1",
        "___58"
      ]
    ],
    [
      "___60",
      [
        "__builtin_getattr__",
        "abstract_drr",
        {
          "str": "register_drr_pass"
        }
      ]
    ],
    [
      "___61",
      [
        "__builtin_list__",
        {
          "str": "nice"
        },
        0
      ]
    ],
    [
      "___62",
      [
        "__builtin_list__",
        "___61"
      ]
    ],
    [
      "___63",
      [
        "__builtin_list__",
        {
          "str": "trivial_fusion"
        }
      ]
    ],
    [
      "___64",
      [
        "__builtin_PackedArgs__",
        "___63",
        "___62"
      ]
    ],
    [
      "___65",
      [
        "___60",
        "___64"
      ]
    ],
    [
      "___66",
      [
        "___65",
        "___59"
      ]
    ],
    [
      "TrivialFusionDemo",
      [
        "__builtin_identity__",
        "___66"
      ]
    ],
    [
      "DataDownSpiderYield",
      [
        "__builtin_identity__",
        [
          "lambda",
          [
            "o",
            "t"
          ],
          [
            "__builtin_let__",
            [
              [
                "___67",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "ap_native_op"
                  }
                ]
              ],
              [
                "___68",
                [
                  "___67",
                  {
                    "str": "pd_op.data"
                  }
                ]
              ],
              [
                "___69",
                [
                  "__builtin_setattr__",
                  "o",
                  {
                    "str": "data_op"
                  }
                ]
              ],
              [
                "___70",
                [
                  "___69",
                  {
                    "str": "data_op"
                  },
                  "___68"
                ]
              ],
              [
                "___71",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "data_op"
                  }
                ]
              ],
              [
                "___72",
                [
                  "__builtin_list__"
                ]
              ],
              [
                "___73",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "data_op_out"
                  }
                ]
              ],
              [
                "___74",
                [
                  "__builtin_list__",
                  "___73"
                ]
              ],
              [
                "___75",
                [
                  "___71",
                  "___72",
                  "___74"
                ]
              ],
              [
                "___76",
                [
                  "__builtin_identity__",
                  "___75"
                ]
              ],
              [
                "___77",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "ap_native_op"
                  }
                ]
              ],
              [
                "___78",
                [
                  "___77",
                  {
                    "str": "ap_op.id_down_spider"
                  }
                ]
              ],
              [
                "___79",
                [
                  "__builtin_setattr__",
                  "o",
                  {
                    "str": "id_down_spider_op"
                  }
                ]
              ],
              [
                "___80",
                [
                  "___79",
                  {
                    "str": "id_down_spider_op"
                  },
                  "___78"
                ]
              ],
              [
                "___81",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "id_down_spider_op"
                  }
                ]
              ],
              [
                "___82",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "data_op_out"
                  }
                ]
              ],
              [
                "___83",
                [
                  "__builtin_list__",
                  "___82"
                ]
              ],
              [
                "___84",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "id_down_spider_op_out"
                  }
                ]
              ],
              [
                "___85",
                [
                  "__builtin_list__",
                  "___84"
                ]
              ],
              [
                "___86",
                [
                  "___81",
                  "___83",
                  "___85"
                ]
              ],
              [
                "___87",
                [
                  "__builtin_identity__",
                  "___86"
                ]
              ],
              [
                "___88",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "ap_native_op"
                  }
                ]
              ],
              [
                "___89",
                [
                  "___88",
                  {
                    "str": "cf.yield"
                  }
                ]
              ],
              [
                "___90",
                [
                  "__builtin_setattr__",
                  "o",
                  {
                    "str": "yield_op"
                  }
                ]
              ],
              [
                "___91",
                [
                  "___90",
                  {
                    "str": "yield_op"
                  },
                  "___89"
                ]
              ],
              [
                "___92",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "yield_op"
                  }
                ]
              ],
              [
                "___93",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "id_down_spider_op_out"
                  }
                ]
              ],
              [
                "___94",
                [
                  "__builtin_list__",
                  "___93"
                ]
              ],
              [
                "___95",
                [
                  "__builtin_list__"
                ]
              ],
              [
                "___96",
                [
                  "___92",
                  "___94",
                  "___95"
                ]
              ],
              [
                "___97",
                [
                  "__builtin_identity__",
                  "___96"
                ]
              ]
            ],
            [
              "__builtin_identity__",
              null
            ]
          ]
        ]
      ]
    ],
    [
      "Constraint",
      [
        "__builtin_identity__",
        [
          "lambda",
          [
            "o",
            "t",
            "ir_helper"
          ],
          [
            "__builtin_let__",
            [
              [
                "___98",
                [
                  "__builtin_getattr__",
                  "ir_helper",
                  {
                    "str": "copy_fused_ops_to_program"
                  }
                ]
              ],
              [
                "___99",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "trivial_op"
                  }
                ]
              ],
              [
                "___100",
                [
                  "___98",
                  "___99"
                ]
              ],
              [
                "program",
                [
                  "__builtin_identity__",
                  "___100"
                ]
              ],
              [
                "___101",
                [
                  "print",
                  {
                    "str": "before-access_topo_pass"
                  },
                  "program"
                ]
              ],
              [
                "___102",
                [
                  "__builtin_identity__",
                  "___101"
                ]
              ],
              [
                "___103",
                [
                  "__builtin_getattr__",
                  "ir_helper",
                  {
                    "str": "create_pass_manager"
                  }
                ]
              ],
              [
                "___104",
                [
                  "___103"
                ]
              ],
              [
                "init_pass_manager",
                [
                  "__builtin_identity__",
                  "___104"
                ]
              ],
              [
                "___105",
                [
                  "__builtin_getattr__",
                  "init_pass_manager",
                  {
                    "str": "add_pass"
                  }
                ]
              ],
              [
                "___106",
                [
                  "__builtin_getattr__",
                  "ir_helper",
                  {
                    "str": "create_access_topo_drr_one_step_pass"
                  }
                ]
              ],
              [
                "___107",
                [
                  "___106",
                  {
                    "str": "init_id_down_spider"
                  }
                ]
              ],
              [
                "___108",
                [
                  "___105",
                  "___107"
                ]
              ],
              [
                "___109",
                [
                  "__builtin_identity__",
                  "___108"
                ]
              ],
              [
                "___110",
                [
                  "__builtin_getattr__",
                  "init_pass_manager",
                  {
                    "str": "run"
                  }
                ]
              ],
              [
                "___111",
                [
                  "___110",
                  "program"
                ]
              ],
              [
                "___112",
                [
                  "__builtin_identity__",
                  "___111"
                ]
              ],
              [
                "___113",
                [
                  "print",
                  {
                    "str": "after-init-access_topo_pass"
                  },
                  "program"
                ]
              ],
              [
                "___114",
                [
                  "__builtin_identity__",
                  "___113"
                ]
              ],
              [
                "___115",
                [
                  "__builtin_getattr__",
                  "ir_helper",
                  {
                    "str": "create_pass_manager"
                  }
                ]
              ],
              [
                "___116",
                [
                  "___115"
                ]
              ],
              [
                "pass_manager",
                [
                  "__builtin_identity__",
                  "___116"
                ]
              ],
              [
                "___117",
                [
                  "__builtin_getattr__",
                  "pass_manager",
                  {
                    "str": "add_pass"
                  }
                ]
              ],
              [
                "___118",
                [
                  "__builtin_getattr__",
                  "ir_helper",
                  {
                    "str": "create_access_topo_drr_pass"
                  }
                ]
              ],
              [
                "___119",
                [
                  "___118",
                  {
                    "str": "default"
                  }
                ]
              ],
              [
                "___120",
                [
                  "___117",
                  "___119"
                ]
              ],
              [
                "___121",
                [
                  "__builtin_identity__",
                  "___120"
                ]
              ],
              [
                "___122",
                [
                  "__builtin_getattr__",
                  "pass_manager",
                  {
                    "str": "add_pass"
                  }
                ]
              ],
              [
                "___123",
                [
                  "__builtin_getattr__",
                  "ir_helper",
                  {
                    "str": "create_dce_pass"
                  }
                ]
              ],
              [
                "___124",
                [
                  "___123"
                ]
              ],
              [
                "___125",
                [
                  "___122",
                  "___124"
                ]
              ],
              [
                "___126",
                [
                  "__builtin_identity__",
                  "___125"
                ]
              ],
              [
                "___127",
                [
                  "__builtin_getattr__",
                  "pass_manager",
                  {
                    "str": "run"
                  }
                ]
              ],
              [
                "___128",
                [
                  "___127",
                  "program"
                ]
              ],
              [
                "___129",
                [
                  "__builtin_identity__",
                  "___128"
                ]
              ],
              [
                "___130",
                [
                  "print",
                  {
                    "str": "after-apply-access_topo_pass"
                  },
                  "program"
                ]
              ],
              [
                "___131",
                [
                  "__builtin_identity__",
                  "___130"
                ]
              ],
              [
                "___132",
                [
                  "__builtin_getattr__",
                  "ir_helper",
                  {
                    "str": "match"
                  }
                ]
              ],
              [
                "___133",
                [
                  "__builtin_getattr__",
                  "DataDownSpiderYield",
                  {
                    "str": "__function__"
                  }
                ]
              ],
              [
                "___134",
                [
                  "___132",
                  "program",
                  "___133"
                ]
              ],
              [
                "matched",
                [
                  "__builtin_identity__",
                  "___134"
                ]
              ],
              [
                "___135",
                [
                  "print",
                  {
                    "str": "DataDownSpiderYield matched: "
                  },
                  "matched"
                ]
              ],
              [
                "___136",
                [
                  "__builtin_identity__",
                  "___135"
                ]
              ],
              [
                "___137",
                [
                  "__builtin_return__",
                  "matched"
                ]
              ]
            ],
            [
              "__builtin_identity__",
              null
            ]
          ]
        ]
      ]
    ],
    [
      "CodeGen",
      [
        "__builtin_identity__",
        [
          "lambda",
          [
            "ctx",
            "o",
            "t"
          ],
          [
            "__builtin_let__",
            [
              [
                "___138",
                [
                  "__builtin_getattr__",
                  "ctx",
                  {
                    "str": "make_fusion_op_code_gen_class"
                  }
                ]
              ],
              [
                "___139",
                [
                  "__builtin_getattr__",
                  "o",
                  {
                    "str": "trivial_op"
                  }
                ]
              ],
              [
                "___140",
                [
                  "__builtin_list__",
                  false
                ]
              ],
              [
                "___141",
                [
                  "__builtin_list__",
                  {
                    "str": "input_index_loop_anchor_flags"
                  },
                  "___140"
                ]
              ],
              [
                "___142",
                [
                  "__builtin_list__",
                  true
                ]
              ],
              [
                "___143",
                [
                  "__builtin_list__",
                  {
                    "str": "output_index_loop_anchor_flags"
                  },
                  "___142"
                ]
              ],
              [
                "___144",
                [
                  "__builtin_list__",
                  "___141",
                  "___143"
                ]
              ],
              [
                "___145",
                [
                  "__builtin_list__",
                  "___139"
                ]
              ],
              [
                "___146",
                [
                  "__builtin_PackedArgs__",
                  "___145",
                  "___144"
                ]
              ],
              [
                "___147",
                [
                  "___138",
                  "___146"
                ]
              ],
              [
                "trivial_op_code_gen_class",
                [
                  "__builtin_identity__",
                  "___147"
                ]
              ],
              [
                "___148",
                [
                  "__builtin_getattr__",
                  "trivial_reduce_tpl",
                  {
                    "str": "TrivialReduceTemplate"
                  }
                ]
              ],
              [
                "___149",
                [
                  "__builtin_list__",
                  {
                    "str": "trivial_op_code_gen_class"
                  },
                  "trivial_op_code_gen_class"
                ]
              ],
              [
                "___150",
                [
                  "__builtin_list__",
                  "___149"
                ]
              ],
              [
                "___151",
                [
                  "__builtin_list__"
                ]
              ],
              [
                "___152",
                [
                  "__builtin_PackedArgs__",
                  "___151",
                  "___150"
                ]
              ],
              [
                "___153",
                [
                  "___148",
                  "___152"
                ]
              ],
              [
                "template_module",
                [
                  "__builtin_identity__",
                  "___153"
                ]
              ],
              [
                "___154",
                [
                  "__builtin_getattr__",
                  "template_module",
                  {
                    "str": "compile"
                  }
                ]
              ],
              [
                "___155",
                [
                  "__builtin_getattr__",
                  "ctx",
                  {
                    "str": "dim_expr_kernel_arg_id"
                  }
                ]
              ],
              [
                "___157",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "input0"
                  }
                ]
              ],
              [
                "___156",
                [
                  "__builtin_getattr__",
                  "___157",
                  {
                    "str": "shape"
                  }
                ]
              ],
              [
                "___158",
                [
                  "__builtin_getitem__",
                  "___156",
                  0
                ]
              ],
              [
                "___159",
                [
                  "___155",
                  "___158"
                ]
              ],
              [
                "___160",
                [
                  "__builtin_list__",
                  {
                    "str": "dim0_karg"
                  },
                  "___159"
                ]
              ],
              [
                "___161",
                [
                  "__builtin_getattr__",
                  "ctx",
                  {
                    "str": "in_tensor_data_ptr_kernel_arg_id"
                  }
                ]
              ],
              [
                "___162",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "input0"
                  }
                ]
              ],
              [
                "___163",
                [
                  "___161",
                  "___162"
                ]
              ],
              [
                "___164",
                [
                  "__builtin_list__",
                  {
                    "str": "input_karg"
                  },
                  "___163"
                ]
              ],
              [
                "___165",
                [
                  "__builtin_getattr__",
                  "ctx",
                  {
                    "str": "out_tensor_data_ptr_kernel_arg_id"
                  }
                ]
              ],
              [
                "___166",
                [
                  "__builtin_getattr__",
                  "t",
                  {
                    "str": "output1"
                  }
                ]
              ],
              [
                "___167",
                [
                  "___165",
                  "___166"
                ]
              ],
              [
                "___168",
                [
                  "__builtin_list__",
                  {
                    "str": "output_karg"
                  },
                  "___167"
                ]
              ],
              [
                "___169",
                [
                  "__builtin_list__",
                  "___160",
                  "___164",
                  "___168"
                ]
              ],
              [
                "___170",
                [
                  "__builtin_list__"
                ]
              ],
              [
                "___171",
                [
                  "__builtin_PackedArgs__",
                  "___170",
                  "___169"
                ]
              ],
              [
                "___172",
                [
                  "___154",
                  "___171"
                ]
              ],
              [
                "___173",
                [
                  "__builtin_return__",
                  "___172"
                ]
              ]
            ],
            [
              "__builtin_identity__",
              null
            ]
          ]
        ]
      ]
    ]
  ],
  [
    "__builtin_identity__",
    "CodeGen"
  ]
]